(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[769],{63:(e,r,s)=>{"use strict";var o=s(7260);s.o(o,"useRouter")&&s.d(r,{useRouter:function(){return o.useRouter}}),s.o(o,"useSearchParams")&&s.d(r,{useSearchParams:function(){return o.useSearchParams}})},2890:(e,r,s)=>{"use strict";s.d(r,{supabase:()=>n,u:()=>t});var o=s(7559);s(5704).env.SUPABASE_SERVICE_ROLE_KEY;let n=(0,o.createBrowserClient)("https://njbormsqqfwnzwbigxuh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5qYm9ybXNxcWZ3bnp3YmlneHVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY4NTk0NTUsImV4cCI6MjA3MjQzNTQ1NX0.l7RtcUzoORpe1oUOW4MrahBH9fWjwpGqAc-QeCTYKIQ",{realtime:{params:{eventsPerSecond:10}}});window.supabase=n;let t=()=>n},6190:(e,r,s)=>{Promise.resolve().then(s.bind(s,7756))},7756:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var o=s(5155),n=s(2115),t=s(63),a=s(2890);function c(){let e=(0,t.useRouter)(),r=(0,a.u)();return(0,n.useEffect)(()=>{(async()=>{try{console.log("認証コールバック処理開始..."),console.log("現在のURL:",window.location.href);let s=new URLSearchParams(window.location.search),o=s.get("error"),n=s.get("error_description");if(o){console.error("OAuth認証エラー:",{error:o,description:n}),e.push("/auth/signin?error=".concat(encodeURIComponent(n||o||"OAuth認証に失敗しました")));return}let{data:t,error:a}=await r.auth.getUser();if(console.log("ユーザー取得結果:",{user:t.user?{id:t.user.id,email:t.user.email}:null,error:a}),a){console.error("ユーザー取得エラー:",a),e.push("/auth/signin?error=".concat(encodeURIComponent(a.message)));return}t.user?(console.log("認証成功、ホームページにリダイレクト"),e.push("/")):(console.log("ユーザー情報なし、サインインページにリダイレクト"),e.push("/auth/signin?error=認証情報が見つかりません"))}catch(s){console.error("認証コールバック処理エラー:",s);let r=s instanceof Error?s.message:"認証処理中にエラーが発生しました";e.push("/auth/signin?error=".concat(encodeURIComponent(r)))}})()},[e,r.auth]),(0,o.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,o.jsx)("p",{className:"text-gray-600",children:"認証処理中..."})]})})}}},e=>{e.O(0,[559,441,255,358],()=>e(e.s=6190)),_N_E=e.O()}]);