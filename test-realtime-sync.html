<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸãƒ†ã‚¹ãƒˆ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .button {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
            transition: background-color 0.2s;
        }
        .button:hover {
            background: #0056b3;
        }
        .button.success {
            background: #28a745;
        }
        .button.warning {
            background: #ffc107;
            color: #212529;
        }
        .instructions {
            background: #e7f3ff;
            border: 1px solid #b3d9ff;
            border-radius: 6px;
            padding: 15px;
            margin: 20px 0;
        }
        .test-step {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        .test-step h3 {
            margin-top: 0;
            color: #495057;
        }
        .status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        .status.pending {
            background: #ffeaa7;
            color: #2d3436;
        }
        .status.running {
            background: #74b9ff;
            color: white;
        }
        .status.success {
            background: #00b894;
            color: white;
        }
        .status.error {
            background: #e17055;
            color: white;
        }
        .log {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            max-height: 300px;
            overflow-y: auto;
            margin: 15px 0;
        }
        .tabs {
            display: flex;
            gap: 10px;
            margin: 20px 0;
        }
        .tab-info {
            background: #e9ecef;
            padding: 10px;
            border-radius: 6px;
            flex: 1;
            text-align: center;
        }
        .tab-info.active {
            background: #007bff;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”„ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸãƒ†ã‚¹ãƒˆ</h1>
        
        <div class="instructions">
            <h3>ğŸ“‹ ãƒ†ã‚¹ãƒˆæ¦‚è¦</h3>
            <p>ã“ã®ãƒ†ã‚¹ãƒˆã§ã¯ã€Supabase Realtimeã‚’ä½¿ç”¨ã—ãŸå®¶äº‹ãƒ‡ãƒ¼ã‚¿ã®åŒæœŸæ©Ÿèƒ½ã‚’æ¤œè¨¼ã—ã¾ã™ã€‚</p>
            <p>è¤‡æ•°ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚¿ãƒ–é–“ã§å®¶äº‹ã®è¿½åŠ ãƒ»æ›´æ–°ãƒ»å‰Šé™¤ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§åŒæœŸã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</p>
        </div>
        
        <div class="tabs">
            <div class="tab-info" id="tab1Info">
                <strong>ã‚¿ãƒ–1 (ãƒ¡ã‚¤ãƒ³)</strong><br>
                <span id="tab1Status">æœªé–‹å§‹</span>
            </div>
            <div class="tab-info" id="tab2Info">
                <strong>ã‚¿ãƒ–2 (åŒæœŸç¢ºèªç”¨)</strong><br>
                <span id="tab2Status">æœªé–‹å§‹</span>
            </div>
        </div>
        
        <div style="text-align: center; margin: 30px 0;">
            <button class="button" onclick="startRealtimeTest()" id="startButton">ğŸš€ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ†ã‚¹ãƒˆé–‹å§‹</button>
            <button class="button warning" onclick="resetTest()" id="resetButton">ğŸ”„ ãƒ†ã‚¹ãƒˆãƒªã‚»ãƒƒãƒˆ</button>
        </div>
        
        <div class="test-step">
            <h3>ã‚¹ãƒ†ãƒƒãƒ— 1: ã‚¿ãƒ–ã®æº–å‚™ <span class="status pending" id="step1Status">å¾…æ©Ÿä¸­</span></h3>
            <p>ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’2ã¤ã®ã‚¿ãƒ–ã§é–‹ãã¾ã™ã€‚ä¸¡æ–¹ã®ã‚¿ãƒ–ã§åŒã˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„ã€‚</p>
            <button class="button" onclick="openTabs()" id="openTabsButton">ğŸ“± ã‚¿ãƒ–ã‚’é–‹ã</button>
        </div>
        
        <div class="test-step">
            <h3>ã‚¹ãƒ†ãƒƒãƒ— 2: å®¶äº‹è¿½åŠ ã®åŒæœŸãƒ†ã‚¹ãƒˆ <span class="status pending" id="step2Status">å¾…æ©Ÿä¸­</span></h3>
            <p>ã‚¿ãƒ–1ã§å®¶äº‹ã‚’è¿½åŠ ã—ã€ã‚¿ãƒ–2ã§å³åº§ã«è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</p>
            <button class="button" onclick="testAddSync()" id="testAddButton" disabled>â• è¿½åŠ åŒæœŸãƒ†ã‚¹ãƒˆ</button>
        </div>
        
        <div class="test-step">
            <h3>ã‚¹ãƒ†ãƒƒãƒ— 3: å®¶äº‹å®Œäº†ã®åŒæœŸãƒ†ã‚¹ãƒˆ <span class="status pending" id="step3Status">å¾…æ©Ÿä¸­</span></h3>
            <p>ã‚¿ãƒ–1ã§å®¶äº‹ã‚’å®Œäº†ã—ã€ã‚¿ãƒ–2ã§å®Œäº†çŠ¶æ…‹ãŒåŒæœŸã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</p>
            <button class="button" onclick="testToggleSync()" id="testToggleButton" disabled>âœ… å®Œäº†åŒæœŸãƒ†ã‚¹ãƒˆ</button>
        </div>
        
        <div class="test-step">
            <h3>ã‚¹ãƒ†ãƒƒãƒ— 4: å®¶äº‹å‰Šé™¤ã®åŒæœŸãƒ†ã‚¹ãƒˆ <span class="status pending" id="step4Status">å¾…æ©Ÿä¸­</span></h3>
            <p>ã‚¿ãƒ–1ã§å®¶äº‹ã‚’å‰Šé™¤ã—ã€ã‚¿ãƒ–2ã‹ã‚‰å³åº§ã«å‰Šé™¤ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</p>
            <button class="button" onclick="testDeleteSync()" id="testDeleteButton" disabled>ğŸ—‘ï¸ å‰Šé™¤åŒæœŸãƒ†ã‚¹ãƒˆ</button>
        </div>
        
        <div class="log" id="testLog">
            <div>ğŸ”„ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸãƒ†ã‚¹ãƒˆãƒ­ã‚°</div>
            <div>ãƒ†ã‚¹ãƒˆé–‹å§‹ã‚’å¾…æ©Ÿä¸­...</div>
        </div>
    </div>
    
    <script>
        let tab1Window = null;
        let tab2Window = null;
        let currentStep = 0;
        let testChoreId = null;
        
        function log(message) {
            const logElement = document.getElementById('testLog');
            const timestamp = new Date().toLocaleTimeString();
            logElement.innerHTML += `<div>[${timestamp}] ${message}</div>`;
            logElement.scrollTop = logElement.scrollHeight;
            console.log(`[Realtime Test] ${message}`);
        }
        
        function updateStatus(stepId, status, text) {
            const element = document.getElementById(stepId);
            element.className = `status ${status}`;
            element.textContent = text;
        }
        
        function updateTabStatus(tabId, status) {
            document.getElementById(tabId).textContent = status;
        }
        
        async function startRealtimeTest() {
            log('ğŸš€ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸãƒ†ã‚¹ãƒˆé–‹å§‹');
            document.getElementById('startButton').disabled = true;
            currentStep = 1;
            updateStatus('step1Status', 'running', 'å®Ÿè¡Œä¸­');
            
            // ã‚¿ãƒ–ã‚’è‡ªå‹•ã§é–‹ã
            openTabs();
        }
        
        function openTabs() {
            try {
                log('ğŸ“± ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¿ãƒ–ã‚’é–‹ã„ã¦ã„ã¾ã™...');
                
                // ã‚¿ãƒ–1ã‚’é–‹ã
                tab1Window = window.open('http://localhost:3003', 'choreApp1');
                if (tab1Window) {
                    updateTabStatus('tab1Status', 'é–‹ã„ã¦ã„ã¾ã™');
                    log('âœ… ã‚¿ãƒ–1ã‚’é–‹ãã¾ã—ãŸ');
                } else {
                    log('âŒ ã‚¿ãƒ–1ã‚’é–‹ã‘ã¾ã›ã‚“ã§ã—ãŸï¼ˆãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ–ãƒ­ãƒƒã‚¯ï¼Ÿï¼‰');
                    return;
                }
                
                // å°‘ã—å¾…ã£ã¦ã‹ã‚‰ã‚¿ãƒ–2ã‚’é–‹ã
                setTimeout(() => {
                    tab2Window = window.open('http://localhost:3003', 'choreApp2');
                    if (tab2Window) {
                        updateTabStatus('tab2Status', 'é–‹ã„ã¦ã„ã¾ã™');
                        log('âœ… ã‚¿ãƒ–2ã‚’é–‹ãã¾ã—ãŸ');
                        
                        // ä¸¡æ–¹ã®ã‚¿ãƒ–ãŒé–‹ã‘ãŸã‚‰æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’æœ‰åŠ¹åŒ–
                        setTimeout(() => {
                            updateStatus('step1Status', 'success', 'å®Œäº†');
                            document.getElementById('testAddButton').disabled = false;
                            log('âœ… ã‚¹ãƒ†ãƒƒãƒ—1å®Œäº†: ä¸¡æ–¹ã®ã‚¿ãƒ–ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã‹ã‚‰æ¬¡ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„');
                        }, 2000);
                    } else {
                        log('âŒ ã‚¿ãƒ–2ã‚’é–‹ã‘ã¾ã›ã‚“ã§ã—ãŸï¼ˆãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ–ãƒ­ãƒƒã‚¯ï¼Ÿï¼‰');
                    }
                }, 1000);
                
            } catch (error) {
                log(`âŒ ã‚¿ãƒ–ã‚ªãƒ¼ãƒ—ãƒ³ã‚¨ãƒ©ãƒ¼: ${error.message}`);
                updateStatus('step1Status', 'error', 'ã‚¨ãƒ©ãƒ¼');
            }
        }
        
        async function testAddSync() {
            if (!tab1Window || !tab2Window) {
                log('âŒ ã‚¿ãƒ–ãŒé–‹ã‹ã‚Œã¦ã„ã¾ã›ã‚“');
                return;
            }
            
            updateStatus('step2Status', 'running', 'å®Ÿè¡Œä¸­');
            log('ğŸ“ å®¶äº‹è¿½åŠ ã®åŒæœŸãƒ†ã‚¹ãƒˆã‚’é–‹å§‹ã—ã¾ã™...');
            
            try {
                const testTitle = `åŒæœŸãƒ†ã‚¹ãƒˆ_${Date.now()}`;
                testChoreId = testTitle;
                
                // ã‚¿ãƒ–1ã§å®¶äº‹ã‚’è¿½åŠ 
                const addScript = `
                    (async function() {
                        try {
                            const input = document.querySelector('[data-testid="chore-input"]');
                            const button = document.querySelector('[data-testid="add-chore-button"]');
                            
                            if (!input || !button) {
                                console.error('âŒ è¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                                return false;
                            }
                            
                            input.value = '${testTitle}';
                            input.dispatchEvent(new Event('input', { bubbles: true }));
                            button.click();
                            
                            console.log('âœ… å®¶äº‹ã‚’è¿½åŠ ã—ã¾ã—ãŸ: ${testTitle}');
                            return true;
                        } catch (error) {
                            console.error('âŒ è¿½åŠ ã‚¨ãƒ©ãƒ¼:', error);
                            return false;
                        }
                    })()
                `;
                
                tab1Window.eval(addScript);
                log(`ğŸ“ ã‚¿ãƒ–1ã§å®¶äº‹ã‚’è¿½åŠ : ${testTitle}`);
                
                // 3ç§’å¾…ã£ã¦ã‹ã‚‰ã‚¿ãƒ–2ã§ç¢ºèª
                setTimeout(() => {
                    const checkScript = `
                        (function() {
                            const items = document.querySelectorAll('[data-testid="chore-item"]');
                            const found = Array.from(items).some(item => 
                                item.textContent.includes('${testTitle}')
                            );
                            console.log(found ? 'âœ… åŒæœŸç¢ºèª: å®¶äº‹ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™' : 'âŒ åŒæœŸå¤±æ•—: å®¶äº‹ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã›ã‚“');
                            return found;
                        })()
                    `;
                    
                    const syncResult = tab2Window.eval(checkScript);
                    
                    if (syncResult) {
                        log('âœ… å®¶äº‹è¿½åŠ ã®åŒæœŸæˆåŠŸï¼');
                        updateStatus('step2Status', 'success', 'å®Œäº†');
                        document.getElementById('testToggleButton').disabled = false;
                    } else {
                        log('âŒ å®¶äº‹è¿½åŠ ã®åŒæœŸå¤±æ•—');
                        updateStatus('step2Status', 'error', 'ã‚¨ãƒ©ãƒ¼');
                    }
                }, 3000);
                
            } catch (error) {
                log(`âŒ è¿½åŠ åŒæœŸãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`);
                updateStatus('step2Status', 'error', 'ã‚¨ãƒ©ãƒ¼');
            }
        }
        
        async function testToggleSync() {
            if (!tab1Window || !tab2Window || !testChoreId) {
                log('âŒ å‰ææ¡ä»¶ãŒæº€ãŸã•ã‚Œã¦ã„ã¾ã›ã‚“');
                return;
            }
            
            updateStatus('step3Status', 'running', 'å®Ÿè¡Œä¸­');
            log('ğŸ”„ å®¶äº‹å®Œäº†ã®åŒæœŸãƒ†ã‚¹ãƒˆã‚’é–‹å§‹ã—ã¾ã™...');
            
            try {
                // ã‚¿ãƒ–1ã§å®¶äº‹ã‚’å®Œäº†
                const toggleScript = `
                    (function() {
                        try {
                            const items = document.querySelectorAll('[data-testid="chore-item"]');
                            const targetItem = Array.from(items).find(item => 
                                item.textContent.includes('${testChoreId}')
                            );
                            
                            if (!targetItem) {
                                console.error('âŒ å¯¾è±¡ã®å®¶äº‹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                                return false;
                            }
                            
                            const toggleButton = targetItem.querySelector('[data-testid="toggle-chore-button"]');
                            if (!toggleButton) {
                                console.error('âŒ å®Œäº†ãƒœã‚¿ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                                return false;
                            }
                            
                            toggleButton.click();
                            console.log('âœ… å®¶äº‹ã‚’å®Œäº†ã—ã¾ã—ãŸ');
                            return true;
                        } catch (error) {
                            console.error('âŒ å®Œäº†ã‚¨ãƒ©ãƒ¼:', error);
                            return false;
                        }
                    })()
                `;
                
                tab1Window.eval(toggleScript);
                log('ğŸ”„ ã‚¿ãƒ–1ã§å®¶äº‹ã‚’å®Œäº†');
                
                // 3ç§’å¾…ã£ã¦ã‹ã‚‰ã‚¿ãƒ–2ã§ç¢ºèª
                setTimeout(() => {
                    const checkScript = `
                        (function() {
                            const items = document.querySelectorAll('[data-testid="chore-item"]');
                            const targetItem = Array.from(items).find(item => 
                                item.textContent.includes('${testChoreId}')
                            );
                            
                            if (!targetItem) return false;
                            
                            const isCompleted = targetItem.className.includes('green') || 
                                              targetItem.textContent.includes('å®Œäº†');
                            console.log(isCompleted ? 'âœ… åŒæœŸç¢ºèª: å®Œäº†çŠ¶æ…‹ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™' : 'âŒ åŒæœŸå¤±æ•—: å®Œäº†çŠ¶æ…‹ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã›ã‚“');
                            return isCompleted;
                        })()
                    `;
                    
                    const syncResult = tab2Window.eval(checkScript);
                    
                    if (syncResult) {
                        log('âœ… å®¶äº‹å®Œäº†ã®åŒæœŸæˆåŠŸï¼');
                        updateStatus('step3Status', 'success', 'å®Œäº†');
                        document.getElementById('testDeleteButton').disabled = false;
                    } else {
                        log('âŒ å®¶äº‹å®Œäº†ã®åŒæœŸå¤±æ•—');
                        updateStatus('step3Status', 'error', 'ã‚¨ãƒ©ãƒ¼');
                    }
                }, 3000);
                
            } catch (error) {
                log(`âŒ å®Œäº†åŒæœŸãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`);
                updateStatus('step3Status', 'error', 'ã‚¨ãƒ©ãƒ¼');
            }
        }
        
        async function testDeleteSync() {
            if (!tab1Window || !tab2Window || !testChoreId) {
                log('âŒ å‰ææ¡ä»¶ãŒæº€ãŸã•ã‚Œã¦ã„ã¾ã›ã‚“');
                return;
            }
            
            updateStatus('step4Status', 'running', 'å®Ÿè¡Œä¸­');
            log('ğŸ—‘ï¸ å®¶äº‹å‰Šé™¤ã®åŒæœŸãƒ†ã‚¹ãƒˆã‚’é–‹å§‹ã—ã¾ã™...');
            
            try {
                // ã‚¿ãƒ–1ã§å®¶äº‹ã‚’å‰Šé™¤
                const deleteScript = `
                    (function() {
                        try {
                            const items = document.querySelectorAll('[data-testid="chore-item"]');
                            const targetItem = Array.from(items).find(item => 
                                item.textContent.includes('${testChoreId}')
                            );
                            
                            if (!targetItem) {
                                console.error('âŒ å¯¾è±¡ã®å®¶äº‹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                                return false;
                            }
                            
                            const deleteButton = targetItem.querySelector('[data-testid="delete-chore-button"]');
                            if (!deleteButton) {
                                console.error('âŒ å‰Šé™¤ãƒœã‚¿ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                                return false;
                            }
                            
                            deleteButton.click();
                            console.log('âœ… å®¶äº‹ã‚’å‰Šé™¤ã—ã¾ã—ãŸ');
                            return true;
                        } catch (error) {
                            console.error('âŒ å‰Šé™¤ã‚¨ãƒ©ãƒ¼:', error);
                            return false;
                        }
                    })()
                `;
                
                tab1Window.eval(deleteScript);
                log('ğŸ—‘ï¸ ã‚¿ãƒ–1ã§å®¶äº‹ã‚’å‰Šé™¤');
                
                // 3ç§’å¾…ã£ã¦ã‹ã‚‰ã‚¿ãƒ–2ã§ç¢ºèª
                setTimeout(() => {
                    const checkScript = `
                        (function() {
                            const items = document.querySelectorAll('[data-testid="chore-item"]');
                            const found = Array.from(items).some(item => 
                                item.textContent.includes('${testChoreId}')
                            );
                            console.log(!found ? 'âœ… åŒæœŸç¢ºèª: å®¶äº‹ãŒå‰Šé™¤ã•ã‚Œã¦ã„ã¾ã™' : 'âŒ åŒæœŸå¤±æ•—: å®¶äº‹ãŒã¾ã è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™');
                            return !found;
                        })()
                    `;
                    
                    const syncResult = tab2Window.eval(checkScript);
                    
                    if (syncResult) {
                        log('âœ… å®¶äº‹å‰Šé™¤ã®åŒæœŸæˆåŠŸï¼');
                        updateStatus('step4Status', 'success', 'å®Œäº†');
                        log('ğŸ‰ å…¨ã¦ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸãƒ†ã‚¹ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸï¼');
                    } else {
                        log('âŒ å®¶äº‹å‰Šé™¤ã®åŒæœŸå¤±æ•—');
                        updateStatus('step4Status', 'error', 'ã‚¨ãƒ©ãƒ¼');
                    }
                }, 3000);
                
            } catch (error) {
                log(`âŒ å‰Šé™¤åŒæœŸãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`);
                updateStatus('step4Status', 'error', 'ã‚¨ãƒ©ãƒ¼');
            }
        }
        
        function resetTest() {
            log('ğŸ”„ ãƒ†ã‚¹ãƒˆã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™...');
            
            // ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹
            if (tab1Window) {
                tab1Window.close();
                tab1Window = null;
            }
            if (tab2Window) {
                tab2Window.close();
                tab2Window = null;
            }
            
            // çŠ¶æ…‹ã‚’ãƒªã‚»ãƒƒãƒˆ
            currentStep = 0;
            testChoreId = null;
            
            // UI ã‚’ãƒªã‚»ãƒƒãƒˆ
            updateStatus('step1Status', 'pending', 'å¾…æ©Ÿä¸­');
            updateStatus('step2Status', 'pending', 'å¾…æ©Ÿä¸­');
            updateStatus('step3Status', 'pending', 'å¾…æ©Ÿä¸­');
            updateStatus('step4Status', 'pending', 'å¾…æ©Ÿä¸­');
            
            updateTabStatus('tab1Status', 'æœªé–‹å§‹');
            updateTabStatus('tab2Status', 'æœªé–‹å§‹');
            
            document.getElementById('startButton').disabled = false;
            document.getElementById('testAddButton').disabled = true;
            document.getElementById('testToggleButton').disabled = true;
            document.getElementById('testDeleteButton').disabled = true;
            
            // ãƒ­ã‚°ã‚’ã‚¯ãƒªã‚¢
            document.getElementById('testLog').innerHTML = `
                <div>ğŸ”„ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸãƒ†ã‚¹ãƒˆãƒ­ã‚°</div>
                <div>ãƒ†ã‚¹ãƒˆé–‹å§‹ã‚’å¾…æ©Ÿä¸­...</div>
            `;
            
            log('âœ… ãƒ†ã‚¹ãƒˆãƒªã‚»ãƒƒãƒˆå®Œäº†');
        }
    </script>
</body>
</html>